# üõ°Ô∏è Optimized .htaccess for LiteSpeed + WordPress

## Overview

This repository contains a production-grade `.htaccess` file designed for **LiteSpeed servers running WordPress**. It blends **speed**, **security**, and **best practices** into a single configuration that‚Äôs safe to deploy in live environments.

### üîß Core Features

| Feature                 | Description                                                                |
| ----------------------- | -------------------------------------------------------------------------- |
| **LiteSpeed Cache**     | Full support for LSCache plugin with mobile, WebP, and AJAX handling.      |
| **Browser Caching**     | Aggressive `mod_expires` directives for static assets (1-year expiry).     |
| **WordPress Rewrites**  | Standard core rewrite logic for clean URLs and proper routing.             |
| **Security Headers**    | Includes modern HTTP headers via `mod_headers` (CSP, Permissions-Policy).  |
| **8G Firewall (2024)**  | A lightweight but powerful application-level WAF against common threats.   |
| **XML-RPC Block**       | Disables XML-RPC to close attack vectors (optional, comment out to allow). |
| **File Access Control** | Blocks access to sensitive core files (`wp-config.php`, `.ht*`, etc).      |
| **Author Enumeration**  | Prevents `?author=` scans and user endpoint probes.                        |

---

## üìÑ File Structure Summary

* `# BEGIN LSCACHE`
  ‚Üí Automatically generated by the LiteSpeed Cache plugin. Manages cache control, mobile variants, and WebP support.

* `# BEGIN NON_LSCACHE`
  ‚Üí Adds far-future expiration headers for images, fonts, scripts, and other assets.

* `# BEGIN WordPress`
  ‚Üí Native rewrite block for WordPress routing. Do not edit directly.

* `# BEGIN Headers Security Advanced`
  ‚Üí Security headers including `Strict-Transport-Security`, `X-Frame-Options`, `Content-Security-Policy`, and more.

* `# BEGIN Enhanced Security Rules`
  ‚Üí Manual hardening for XML-RPC, file access, and user scan prevention.

* `# BEGIN 8G Firewall`
  ‚Üí Blocks malicious bots, payloads, query strings, suspicious user agents, and HTTP methods. Based on [Perishable Press's 8G firewall](https://perishablepress.com/8g-firewall/).

---

## ‚öôÔ∏è Requirements

* **LiteSpeed Web Server** (or OpenLiteSpeed)
* **mod\_rewrite** and **mod\_headers** enabled
* Compatible with: WordPress 5.9+ (including latest as of 2025)

---

## üß™ Testing Tips

* Use [securityheaders.com](https://securityheaders.com/) to verify HTTP headers.
* Test firewall rules using tools like:

  * [Gixy](https://github.com/yandex/gixy) for config linting
  * `curl` or `httpie` to simulate bad requests
* Check for conflicts if using additional plugins that modify `.htaccess`.

---

## üìå Notes

* Avoid editing anything between **plugin-generated markers** (`# BEGIN ... / # END ...`).
* Always back up your existing `.htaccess` before deploying.
* You can comment out blocks (like XML-RPC) if needed for compatibility with plugins like Jetpack.

---

## üõ†Ô∏è Contribution

Improvements and additional LiteSpeed or WordPress hardening rules are welcome. Open a pull request or issue with suggestions.
